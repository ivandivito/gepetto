
.CSEG

CONSTANT_DEBUG_LCD:			.DB "DEBUG           ", 0
CONSTANT_DEBUG_USB:			.DB "DEBUG", '\n', 0

DEBUG_LCD:
	PUSH R31
	PUSH R16
	PUSH R17
	PUSH R18
	PUSH ZL
	PUSH ZH

	IN R31, SREG
	
	LDI ZL, LOW(CONSTANT_DEBUG_LCD<<1)
	LDI ZH, HIGH(CONSTANT_DEBUG_LCD<<1)
	CALL UI_WRITE_FIRST_LINE_P_STRING

	OUT SREG, R31

	POP ZH
	POP ZL
	POP R18
	POP R17
	POP R16
	POP R31
	RET


DEBUG_USB:
	PUSH R31
	PUSH R16
	PUSH R17
	PUSH ZL
	PUSH ZH

	IN R31, SREG
	
	LDI ZL, LOW(CONSTANT_DEBUG_USB<<1)
	LDI ZH, HIGH(CONSTANT_DEBUG_USB<<1)
	CALL USB_SEND_P_LINE

	OUT SREG, R31

	POP ZH
	POP ZL
	POP R17
	POP R16
	POP R31

	RET
